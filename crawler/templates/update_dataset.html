{% extends 'main.html' %}
{% load static %}
{% block title %}new dataset{% endblock %}

{% block content %}
<script src="{% static 'js/script.js' %}"></script>

{% if messages %}
<div class="card">
  <ul class="messages">
      {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
      {% endfor %}
  </ul>
</div>
    {% endif %}

<h1>Overview of the datasets</h1>

<br>
<hr>
<br>
<div class="table-container">
<table class=" table table-bordered">
  <tr class="tr_style">
      <th class='cur'>ID</th>
      <th class='cur'>Name</th>
      
      <th class="cur">status</th>
      <th class='cur'>action</th>
    </tr>
    
    {% for item in data %}
    
    <tr data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="show( '{{item.id}}' )">

          
          
            <td >
              {{ item.id }} </td>
            <td >{{ item.name }}</td>
            
            
            
            <td {% if item.status == "in progress" %} style="background-color: #d35400;"{% elif item.status == "completed" %} style="background-color: #63cda8;"{% endif %}>{{ item.status }}</td>
    
            <td >
              <form method="post" action="{% url 'update_d' %}">
                {% csrf_token %}
                <input type="hidden" name="item_id_{{ item.id }}" value="{{ item.id }}">
                <div style="display: flex;padding: 5px;" >
              <button type="submit" name="delete" id="delete" >DELETE </button>
              <button type="submit" name="update" id="update" >UPDATE</button>
              </div>
              </form>
            </td>
            
            
        </tr>
        
        {% endfor %}

</table>

  </div>
    


<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" style="width: 700px;">
      
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      
      <div class="modal-body" id="modal-body">
        
          
                
                
              
              
          </div>
            </div>
        
        
      
      
    </div>
  </div>
</div>



{% endblock %}